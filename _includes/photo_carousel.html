<script src=" https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
<link href=" https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css" rel="stylesheet">

<div id="image-slider" class="splide">
  <div class="splide__track">
    <ul class="splide__list">
    {% for photo_url in site.data.photo-urls %}
    <li class="splide__slide">
      <img data-splide-lazy="{{ photo_url }}" src="#"/>
    </li>
    {% endfor %}
    </ul>
</div>

<script>
  let numPhotos = {{ site.data.photo-urls | size }}
  function getRandomInt(min, max) {
    min = Math.ceil(min);
    max = Math.floor(max);
    return Math.floor(Math.random() * (max - min + 1)) + min;
  }
  new Splide( '#image-slider', {'type': 'fade', 'autoplay': true, 'rewind': true, 'lazyLoad': 'nearby', 'pagination': false, 'start': getRandomInt(0, numPhotos)} ).mount();
</script>
